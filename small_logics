setFiles((prev) =>
        prev.map((f) =>
          f.file === file
            ? {
                ...f,
                validationStatus: res.data.is_valid ? "success" : "error",
                validationMessage: res.data.validation_message,
                validationStep: VALIDATION_STEPS.length + 2,
                ingestionStatus: res.data.ingested
                  ? "success"
                  ? "skipped",
              }
            : f
        )
      );
    } catch (err
